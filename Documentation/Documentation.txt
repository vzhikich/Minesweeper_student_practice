Проект "Сапер"
Опис проекту
На комп'ютері, з допомогою програми STM32CubeIDE 1.19.0, створюється програма і записується на мікроконтролер(МК)STM32F0DISCOVERY. МК містить в собі код гри та виконує основну роботу з обчислення, комп'ютер використовується як засіб зв'язку з ним та для візуалізації програми. 
При натисканні на ярлик гри з'являється екран з кнопками "Грати", "Таблиця рекордів", "Вийти". 
  -При натисканні на "Вийти" - програма закривається. 
  -Натискаючи на "Таблиця рекордів" - поточне вікно закривається, відкривається вікно "Рекорди", у ньому міститься таблиця з чотирма стовпцями ("№", "Ім'я", "Режим", "Час") та десятьма вільними рядками. Програма сортує список в залежності від часу(по наростанню) та режиму("Складно">"Нормально">"Легко"(по спаданню складності)). При записі програма перевіряє чи є в таблиці вільне місце, якщо так, записується новий рекорд(навіть якщо він менший за поточні), після чого рекорди сортуються між собою. Якщо вільних місць в таблиці немає, і з'являється новий запис рекорду, в таблиці буде той, чий час менший(незалежно від складності), тут відбувається порівняння з 10-м рядком, якщо менший час був у вже записаного рекорду - він залишається, а новий видаляється. Якщо менший час у нового рекорду, програма перезаписує 10-те місце на новий рекорд.
  -У випадку натискання на "Грати" - поточне вікно закривається, замість нього з'являється вікно вибору режиму складності "Складність". Воно містить кнопки "Складно", "Нормально", "Легко", "Вийти":
    -"Вийти" працює аналогічно з попередньою;
    -"Складно" вказує параметри поля, розмір 10х10, 25 мін;
    -"Нормально" вказує параметри поля, розмір 8х8, 16 мін;
    -"Легко" вказує параметри поля, розмір 5х5, 6 мін.
  Кнопки складностей кажуть МК, поле якого розміру використовувати, тобто одну із трьох констант.
  -При натисканні на кнопку з вибором складності, вікно "Складність" закривається, на його місці з'являється вікно "Сапер" з полем і таймером. Поле складається із закритих клітинок.
    -Таймер починає роботу після першого відкриття клітинки та лічить лише секунди. Це чотири-розрядний лічильник, при досягненні дев'ятки в розряді, цей розряд скидається до нуля та передає імпульс на наступний розряд.
    -При створенні поля, МК використовує вказаний складністю розмір поля та з допомогою алгоритму, хаотично розставляє бомби, після цього він аналізує кожну клітинку(яка не є бомбою) та перевіряє 8-м клітинок, що оточують її. Згідно алгоритму, клітинка отримує цифру, що відповідає кількості бомб у 8-ми клітинках навколо неї. 
      -При натисканні на клітинку лівою клавішою, ПК надсилає на МК координати цієї клітинки, МК перевіряє, що це за клітинка та надсилає комп'ютеру відповідь. Візуально клітинка відкривається, стає видно значення цієї клітинки. відкривається
        -Якщо це бомба, відкриваються всі клітинки з бомбами, таймер зупиняється, з'являється вікно з написом "Кінець гри" та кнопкою "Вийти"(закриває програму);
        -Якщо це не бомба, МК дивиться її цифру та надсилає це значення ПК, який візуалізує це.
      -При натисканні на клітинку правою клавішою, вона не відкривається і на ній з'являється флажок.
  -Після кожного перевертання клітинки, МК перевіряє, скільки лишилося "безпечних" клітинок. Якщо це значення дорівнює нулю - 
        -з'являється вікно з написом "Перемога!"; 
        -МК зупиняє лічильник та перевіряє його значення яке також виводиться в цьому вікні(нижче напису "Перемога");
        -Ще нижче з'являється поле(на 10 букв/цифр), куди потрібно ввести ім'я.
        -Внизу вікна є клавіша "Зберегти", якщо ім'я не введене(хоча б один символ), вона не працює. При натисканні, МК перевіряє дані імені, режиму та часу і зберігає їх в "Таблиця рекордів".
PC - |0| | | | | | | |
ST - |0|3| | | | | | |
PC - |1|2(n)| | | | | | |
ST - |1|x(m)|x(n)|
Тікети:
1 - PC
2 - ST
3 - Bud Cheksum
4 - Обрахунок-PC
5 - ST
6 - error-Handler

Структура пакета даних
Header - Command ID - Length - Payload - Checksum 

Documented Command Codes

PC → STM32:

1 START MENU
2 CHOOSING THE DIFFICULTY
3 START_GAME
4 CELL_OPEN
5 CELL_FLAG
6 SAVE_RECORD
7 GET_RECORDS ++++++++

STM32 → PC:

1 LINK
2 GAME_STARTED
3 CELL_VALUE
4 GAME_OVER
5 RECORD_ENTRY
6 ERROR_MSG

Align data types between PC and STM32
 int8_t значення клітинки
 uint16_t таймер
 char[10] ім'я
 uint8_t все інше
